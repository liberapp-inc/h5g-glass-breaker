var __reflect=this&&this.__reflect||function(e,t,a){e.__class__=t,a?a.push(t):a=[t],e.__types__=e.__types__?a.concat(e.__types__):a},__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);a.prototype=t.prototype,e.prototype=new a},__awaiter=this&&this.__awaiter||function(e,t,a,s){return new(a||(a=Promise))(function(i,r){function n(e){try{l(s.next(e))}catch(t){r(t)}}function o(e){try{l(s["throw"](e))}catch(t){r(t)}}function l(e){e.done?i(e.value):new a(function(t){t(e.value)}).then(n,o)}l((s=s.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function a(e){return function(t){return s([e,t])}}function s(a){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,r&&(n=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[0,n.value]),a[0]){case 0:case 1:n=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!(n=n.length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){l=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){l.label=a[1];break}if(6===a[0]&&l.label<n[1]){l.label=n[1],n=a;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(a);break}n[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(s){a=[6,s],r=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var i,r,n,o,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Main=function(e){function t(){var a=e.call(this)||this;a.generatePlate=[];var s=new AssetAdapter;return egret.registerImplementation("eui.IAssetAdapter",s),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),t.stageLevel=Stage.TITLE,a.once(egret.Event.ADDED_TO_STAGE,a.runGame,a),a}return __extends(t,e),t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),this.createGameScene(),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return t.sent(),[4,RES.loadGroup("preload")];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),console.error(e),[3,4];case 4:return[2]}})})},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,a=RES.getRes(e);return t.texture=a,t},t.prototype.createGameScene=function(){t.stageWidth=this.stage.stageWidth,t.stageHeight=this.stage.stageHeight,t.stageLevel=Stage.TITLE;var e=new CreateGameStage(t.stageLevel);e.createGameScene(),this.stage.addChild(e),this.generatePlate[0]=new GeneratePlate,this.stage.addChild(this.generatePlate[0]),this.timer=new egret.Timer(t.glassGenerateSpeed,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.generatePlateTimer,this),this.timer.start(),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),egret.startTick(this.fixedUpdate,this)},t.prototype.update=function(){},t.prototype.fixedUpdate=function(){switch(t.stageLevel){case Stage.TITLE:break;case Stage.GAME_OVER:if(console.log(t.gameOverFlag),1==t.gameOverFlag){for(var e=0;e<=t.plateNumber;e++)console.log(this.generatePlate[e]),this.stage.removeChild(this.generatePlate[e]),console.log("c");this.generatePlate[0]=new GeneratePlate,this.stage.addChild(this.generatePlate[0]);var a=new GameOver;a.GameOverDisplay(),this.stage.addChild(a),t.gameOverFlag=!1}break;default:for(var e=0;e<=t.plateNumber;e++)this.generatePlate[e].moveGlassPlate()}return!1},t.prototype.generatePlateTimer=function(){switch(t.stageLevel){case Stage.TITLE:break;case Stage.GAME_OVER:break;default:if(t.plateNumber+=1,this.generatePlate[t.plateNumber]=new GeneratePlate,this.generatePlate[t.plateNumber].generateGlassPlate(),this.stage.addChild(this.generatePlate[t.plateNumber]),this.changeStageLevel(),TimeText.leftTime<=0){TimeText.leftTime=0,t.stageLevel=Stage.GAME_OVER;var e=new GameOver;e.GameOverDisplay(),this.stage.addChild(e)}}},t.prototype.changeStageLevel=function(){switch(TimeText.leftTime){case 60:t.stageLevel=Stage.STAGE1,t.glassGenerateSpeed=500,this.timer.stop(),this.timer=new egret.Timer(t.glassGenerateSpeed,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.generatePlateTimer,this),this.timer.start(),GeneratePlate.glassPlateMoveSpeedMagnification=1;break;case 55:t.stageLevel=Stage.STAGE2,t.glassGenerateSpeed=400,this.timer.stop(),this.timer=new egret.Timer(t.glassGenerateSpeed,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.generatePlateTimer,this),this.timer.start(),GeneratePlate.glassPlateMoveSpeedMagnification=2;break;case 50:t.stageLevel=Stage.STAGE3,t.glassGenerateSpeed=300,this.timer.stop(),this.timer=new egret.Timer(t.glassGenerateSpeed,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.generatePlateTimer,this),this.timer.start(),GeneratePlate.glassPlateMoveSpeedMagnification=3;break;case 40:t.stageLevel=Stage.STAGE4,t.glassGenerateSpeed=200,this.timer.stop(),this.timer=new egret.Timer(t.glassGenerateSpeed,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.generatePlateTimer,this),this.timer.start(),GeneratePlate.glassPlateMoveSpeedMagnification=5;break;case 30:t.stageLevel=Stage.STAGE5,t.glassGenerateSpeed=100,this.timer.stop(),this.timer=new egret.Timer(t.glassGenerateSpeed,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.generatePlateTimer,this),this.timer.start(),GeneratePlate.glassPlateMoveSpeedMagnification=10;break;case 20:t.stageLevel=Stage.STAGE5,t.glassGenerateSpeed=100,this.timer.stop(),this.timer=new egret.Timer(t.glassGenerateSpeed,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.generatePlateTimer,this),this.timer.start(),GeneratePlate.glassPlateMoveSpeedMagnification=15;break;case 10:t.stageLevel=Stage.STAGE5,t.glassGenerateSpeed=100,this.timer.stop(),this.timer=new egret.Timer(t.glassGenerateSpeed,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.generatePlateTimer,this),this.timer.start(),GeneratePlate.glassPlateMoveSpeedMagnification=20}},t.plateNumber=0,t.glassGenerateSpeed=1e3,t.gameOverFlag=!1,t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var GameObject=function(e){function t(){var t=e.call(this)||this,a=new AssetAdapter;return egret.registerImplementation("eui.IAssetAdapter",a),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),t}return __extends(t,e),t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),this.createGameObject(),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return t.sent(),[4,RES.loadGroup("preload")];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),console.error(e),[3,4];case 4:return[2]}})})},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,a=RES.getRes(e);return t.texture=a,t},t.prototype.createGameObject=function(){},t}(egret.DisplayObjectContainer);__reflect(GameObject.prototype,"GameObject");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var GameAudio=function(e){function t(t){var a=e.call(this)||this;return a.url=t,a}return __extends(t,e),t.prototype.startLoad=function(){var e=new egret.Sound;e.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),e.load(this.url)},t.prototype.onLoadComplete=function(e){var t=e.target,a=t.play(0,1);a.volume=.5,a.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this)},t.prototype.onSoundComplete=function(e){},t}(egret.DisplayObjectContainer);__reflect(GameAudio.prototype,"GameAudio");var LoopGameAudio=function(e){function t(t){var a=e.call(this)||this;return a.url=t,a}return __extends(t,e),t.prototype.startLoad=function(){var e=new egret.Sound;e.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),e.load(this.url)},t.prototype.onLoadComplete=function(e){var t=e.target;this.channel=t.play(0,-1),this.channel.volume=.3,this.channel.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this)},t.prototype.onSoundComplete=function(e){egret.log("onSoundComplete")},t}(egret.DisplayObjectContainer);__reflect(LoopGameAudio.prototype,"LoopGameAudio");var GameOver=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.GameOverDisplay=function(){var e=this.createBitmapByName("wood_background_png"),t=Main.stageWidth,a=Main.stageHeight;e.width=t,e.height=a,this.addChild(e),this.euiGroup=new eui.Group,this.euiGroup.width=Main.stageWidth,this.euiGroup.height=Main.stageHeight,this.addChild(this.euiGroup),this.score();var s=new eui.Button;s.skinName="resource/eui_skins/GreenRetryButton.exml",s.once(egret.TouchEvent.TOUCH_TAP,this.retry,this),this.euiGroup.addChild(s);var i=new eui.Button;i.skinName="resource/eui_skins/GreenTitleButton.exml",i.once(egret.TouchEvent.TOUCH_TAP,this.title,this),this.euiGroup.addChild(i)},t.prototype.retry=function(){this.removeChild(this.euiGroup),Main.stageLevel=Stage.STAGE1;var e=new CreateGameStage(Main.stageLevel);e.createGameScene(),this.addChild(e),this.parameterReset()},t.prototype.title=function(){this.removeChild(this.euiGroup),Main.stageLevel=Stage.TITLE;var e=new CreateGameStage(Main.stageLevel);e.createGameScene(),this.addChild(e),this.parameterReset()},t.prototype.score=function(){this.scoreText=new MyText("スコア"+GeneratePlate.score.toString()),this.euiGroup.addChild(this.scoreText),this.scoreText.anchorOffsetX=this.scoreText.width/2,this.scoreText.anchorOffsetY=this.scoreText.height/2,this.scoreText.x=Main.stageWidth/2,this.scoreText.y=Main.stageHeight/2,this.scoreText.scaleX=1.5,this.scoreText.scaleY=1.5},t.prototype.parameterReset=function(){GeneratePlate.score=0,TimeText.leftTime=60,GeneratePlate.glassBreakNumber=0,GeneratePlate.breakComboNumber=0,GeneratePlate.breakComboBonus=1,Main.plateNumber=0,CreateGameStage.glassGenerateSpeed=500,GeneratePlate.glassPlateMoveSpeedMagnification=1,Main.gameOverFlag=!1},t}(GameObject);__reflect(GameOver.prototype,"GameOver");var GlassPlateType;!function(e){e[e.GLASS=0]="GLASS",e[e.IRON=1]="IRON"}(GlassPlateType||(GlassPlateType={}));var MoveDirection;!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.RIGHT=2]="RIGHT",e[e.LEFT=3]="LEFT"}(MoveDirection||(MoveDirection={}));var GlassPosition;!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.RIGHT=2]="RIGHT",e[e.LEFT=3]="LEFT"}(GlassPosition||(GlassPosition={}));var ComboBonusStage;!function(e){e[e.STAGE1=0]="STAGE1",e[e.STAGE2=1]="STAGE2",e[e.STAGE3=2]="STAGE3",e[e.STAGE4=3]="STAGE4",e[e.STAGE5=4]="STAGE5",e[e.STAGE6=5]="STAGE6",e[e.STAGE7=6]="STAGE7",e[e.STAGE8=7]="STAGE8",e[e.STAGE9=8]="STAGE9",e[e.STAGE10=9]="STAGE10"}(ComboBonusStage||(ComboBonusStage={}));var GeneratePlate=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.glassPlateType=GlassPlateType.GLASS,t.glassPlateMoveFlag=!1,t.glassPlateMoveSpeedX=1,t.glassPlateMoveSpeedY=1,t.fadeTime=0,t.fadeSpeed=.01,t.fadeFlag=!1,t}return __extends(t,e),t.prototype.generateGlassPlate=function(){this.decideProperty(),this.glassPlateImage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.glassTouch,this)},t.prototype.decideProperty=function(){switch(this.glassPlateType=0+Math.floor(2*Math.random()),this.glassPlateType){case GlassPlateType.GLASS:this.glassPlateImage=this.createBitmapByName("glass_plate_png"),this.glassPlateMoveFlag=!0,this.glassPlateImage.touchEnabled=!0,this.glassPlateImage.pixelHitTest=!0,this.addChild(this.glassPlateImage);break;case GlassPlateType.IRON:this.glassPlateImage=this.createBitmapByName("iron_plate_parallel_png"),this.glassPlateMoveFlag=!0,this.glassPlateImage.touchEnabled=!0,this.glassPlateImage.pixelHitTest=!0,this.addChild(this.glassPlateImage)}this.glassPlateImage.scaleX=.5,this.glassPlateImage.scaleY=.5,this.glassPlateImagePosition=0+Math.floor(4*Math.random());var e=this.glassPlateImage.width*this.glassPlateImage.scaleX,t=this.glassPlateImage.height*this.glassPlateImage.scaleY;switch(this.glassPlateImagePosition){case GlassPosition.UP:this.glassPlateImage.x=0+Math.floor(Math.random()*(Main.stageWidth+1))-e,this.glassPlateImage.y=0-t,this.glassPlateMoveSpeedX=0,this.glassPlateMoveSpeedY=1;break;case GlassPosition.DOWN:this.glassPlateImage.x=0+Math.floor(Math.random()*(Main.stageWidth+1))-e,this.glassPlateImage.y=Main.stageHeight,this.glassPlateMoveSpeedX=0,this.glassPlateMoveSpeedY=-1;break;case GlassPosition.RIGHT:this.glassPlateImage.x=Main.stageWidth,this.glassPlateImage.y=0+Math.floor(Math.random()*(Main.stageHeight+1))-t,this.glassPlateMoveSpeedX=-1,this.glassPlateMoveSpeedY=0;break;case GlassPosition.LEFT:this.glassPlateImage.x=0-e,this.glassPlateImage.y=0+Math.floor(Math.random()*(Main.stageHeight+1))-t,this.glassPlateMoveSpeedX=1,this.glassPlateMoveSpeedY=0}},t.prototype.moveGlassPlate=function(){if(1==this.glassPlateMoveFlag&&Main.stageLevel!=Stage.GAME_OVER){switch(this.glassPlateImagePosition){case GlassPosition.UP:this.glassPlateMoveSpeedX=0*t.glassPlateMoveSpeedMagnification,this.glassPlateMoveSpeedY=1*t.glassPlateMoveSpeedMagnification;break;case GlassPosition.DOWN:this.glassPlateMoveSpeedX=0*t.glassPlateMoveSpeedMagnification,this.glassPlateMoveSpeedY=-1*t.glassPlateMoveSpeedMagnification;break;case GlassPosition.RIGHT:this.glassPlateMoveSpeedX=-1*t.glassPlateMoveSpeedMagnification,this.glassPlateMoveSpeedY=0*t.glassPlateMoveSpeedMagnification;break;case GlassPosition.LEFT:this.glassPlateMoveSpeedX=1*t.glassPlateMoveSpeedMagnification,this.glassPlateMoveSpeedY=0*t.glassPlateMoveSpeedMagnification}this.glassPlateImage.x+=this.glassPlateMoveSpeedX,this.glassPlateImage.y+=this.glassPlateMoveSpeedY}else Main.stageLevel==Stage.GAME_OVER&&(this.moveStop(),this.glassPlateImage.alpha=0)},t.prototype.moveStop=function(){return this.glassPlateMoveFlag=!1,this.glassPlateImage.touchEnabled=!1,!1},t.prototype.glassTouch=function(){switch(this.moveStop(),this.glassPlateType){case GlassPlateType.GLASS:var e=new GameAudio("resource/bgm/glass-break4.mp3");e.startLoad();var t=this.glassPlateImage.x,a=this.glassPlateImage.y,s=this.glassPlateImage.scaleX,i=this.glassPlateImage.scaleY;this.removeChild(this.glassPlateImage),this.glassPlateImage=this.createBitmapByName("glass_plate-broken_png"),this.glassPlateImage.x=t,this.glassPlateImage.y=a,this.glassPlateImage.scaleX=s,this.glassPlateImage.scaleY=i,this.addChild(this.glassPlateImage),this.fadeBrokenGlass();break;case GlassPlateType.IRON:var r=new GameAudio("resource/bgm/bell04.mp3");r.startLoad(),Main.stageLevel=Stage.GAME_OVER,Main.gameOverFlag=!0}},t.prototype.fadeBrokenGlass=function(){0==this.fadeFlag&&(this.fadeTime=egret.getTimer(),egret.startTick(this.fadeMethod,this),this.fadeFlag=!0,t.glassBreakNumber+=1,this.calculateScore())},t.prototype.fadeMethod=function(){return 1==this.fadeFlag&&(this.glassPlateImage.alpha-=this.fadeSpeed,this.glassPlateImage.alpha<=0&&(this.glassPlateImage.alpha=0,egret.stopTick(this.fadeMethod,this.glassPlateImage))),!1},t.prototype.calculateScore=function(){switch(t.breakComboNumber+=1,t.breakComboNumber){case 0:t.breakComboBonus=1;break;case 10:t.breakComboBonus=2;break;case 20:t.breakComboBonus=3;break;case 30:t.breakComboBonus=4;break;case 40:t.breakComboBonus=5;break;case 50:t.breakComboBonus=6;break;case 60:t.breakComboBonus=7;break;case 70:t.breakComboBonus=8;break;case 80:t.breakComboBonus=9;break;case 90:t.breakComboBonus=10;break;case 100:t.breakComboBonus=11}t.score+=100*t.breakComboBonus},t.glassPlateMoveSpeedMagnification=1,t.glassBreakNumber=0,t.breakComboNumber=0,t.breakComboBonus=1,t.score=0,t}(GameObject);__reflect(GeneratePlate.prototype,"GeneratePlate");var Stage;!function(e){e[e.TITLE=0]="TITLE",e[e.STAGE1=1]="STAGE1",e[e.STAGE2=2]="STAGE2",e[e.STAGE3=3]="STAGE3",e[e.STAGE4=4]="STAGE4",e[e.STAGE5=5]="STAGE5",e[e.GAME_OVER=6]="GAME_OVER"}(Stage||(Stage={}));var CreateGameStage=function(e){function t(t){return e.call(this)||this}return __extends(t,e),t.prototype.createGameScene=function(){switch(Main.stageLevel){case Stage.TITLE:var e=new Title;e.titleDisplay(),this.addChild(e);break;case Stage.STAGE1:var t=this.createBitmapByName("wood_background_png"),a=Main.stageWidth,s=Main.stageHeight;t.width=a,t.height=s,this.addChild(t);var i=new TimeText;i.timeDisplay(),this.addChild(i);var r=new BrokenGlassText;r.brokenGlassDisplay(),this.addChild(r);var n=new ScoreText;n.scoreDisplay(),this.addChild(n);break;case Stage.GAME_OVER:}},t.glassGenerateSpeed=1e3,t}(GameObject);__reflect(CreateGameStage.prototype,"CreateGameStage");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,a){function s(s){t.call(a,s,e)}if(RES.hasRes(e)){var i=RES.getRes(e);i?s(i):RES.getResAsync(e,s,this)}else RES.getResByUrl(e,s,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var MyText=function(e){function t(t){var a=e.call(this)||this;return a.myTextContent=t,a.textDisplay(),a}return __extends(t,e),t.prototype.textDisplay=function(){this.myText=new egret.TextField,this.myText.scaleX=.5,this.myText.scaleY=.5,this.myText.textFlow=[{text:this.myTextContent,style:{textColor:3368601,size:100,strokeColor:6724044,stroke:2,fontFamily:"Meiryo"}}],this.addChild(this.myText)},t.prototype.updateText=function(e){this.myText.scaleX=.5,this.myText.scaleY=.5,this.myText.textFlow=[{text:e,style:{textColor:3368601,size:100,strokeColor:6724044,stroke:2,fontFamily:"Meiryo"}}],this.addChild(this.myText)},t}(GameObject);__reflect(MyText.prototype,"MyText");var TimeText=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.timeDisplay=function(){this.timeText=new MyText("残り時間"+t.leftTime.toString()),this.addChild(this.timeText),this.timer=new egret.Timer(1e3,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.decreaseTime,this),this.timer.start(),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this)},t.prototype.decreaseTime=function(){return Main.stageLevel!=Stage.GAME_OVER?(t.leftTime-=1,this.timeText.updateText("残り時間"+t.leftTime.toString())):(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.decreaseTime,this)),!1},t.prototype.update=function(){Main.stageLevel==Stage.GAME_OVER&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.decreaseTime,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),t.leftTime=60)},t.leftTime=60,t}(GameObject);__reflect(TimeText.prototype,"TimeText");var BrokenGlassText=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.brokenGlassDisplay=function(){this.brokenGlassText=new MyText("破壊枚数"+GeneratePlate.glassBreakNumber.toString()),this.brokenGlassText.x=300,this.addChild(this.brokenGlassText),this.addEventListener(egret.Event.ENTER_FRAME,this.addBrokenGlassNumber,this)},t.prototype.addBrokenGlassNumber=function(){Main.stageLevel!=Stage.GAME_OVER?this.brokenGlassText.updateText("破壊枚数"+GeneratePlate.glassBreakNumber.toString()):this.removeEventListener(egret.Event.ENTER_FRAME,this.addBrokenGlassNumber,this)},t}(GameObject);__reflect(BrokenGlassText.prototype,"BrokenGlassText");var ScoreText=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.scoreDisplay=function(){this.scoreText=new MyText("スコア"+GeneratePlate.score.toString()),this.scoreText.x=300,this.scoreText.y=100,this.addChild(this.scoreText),this.addEventListener(egret.Event.ENTER_FRAME,this.addScore,this)},t.prototype.addScore=function(){Main.stageLevel!=Stage.GAME_OVER?this.scoreText.updateText("スコア"+GeneratePlate.score.toString()):this.removeEventListener(egret.Event.ENTER_FRAME,this.addScore,this)},t}(GameObject);__reflect(ScoreText.prototype,"ScoreText");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,a,s){function i(e){t.call(s,e)}function r(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),a.call(s))}var n=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(s,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,a){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(s,generateEUI2)},n)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var o=e.split("/");o.pop();var l=o.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(s,generateJSON.paths[e])},this):RES.getResByUrl(l,function(a){window.JSONParseClass.setData(a),egret.callLater(function(){t.call(s,generateJSON.paths[e])},n)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(s,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var Title=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.titleDisplay=function(){this.euiGroup=new eui.Group,this.addChild(this.euiGroup);var e=this.createBitmapByName("wood_background_png"),t=Main.stageWidth,a=Main.stageHeight;e.width=t,e.height=a,this.euiGroup.addChild(e);var s=new eui.Button;s.skinName="resource/eui_skins/GreenButtonSkin.exml",s.once(egret.TouchEvent.TOUCH_TAP,this.sceneTransition,this),this.euiGroup.addChild(s)},t.prototype.sceneTransition=function(){Main.stageLevel=Stage.STAGE1;var e=new CreateGameStage(Main.stageLevel);if(e.createGameScene(),this.addChild(e),this.removeChild(this.euiGroup),0==t.bgmPlayFlag||void 0==t.bgmPlayFlag){var a=new LoopGameAudio("resource/bgm/tsukitoiruka.mp3");a.startLoad(),t.bgmPlayFlag=!0}},t}(GameObject);__reflect(Title.prototype,"Title");